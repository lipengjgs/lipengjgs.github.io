import{P as U,i as se,Q as te,R as $,S as ie,T as ne,U as re,y as ae,k as E,s as P,V as oe,u as G,j as t,W as le,X as O,Y as ce,Z as ge,$ as ue,a0 as me,a1 as fe,a2 as he,B as pe,a3 as be,E as de,a4 as ve,m as ye,a5 as I,a6 as F,a7 as Se,a8 as H,a9 as je}from"./app-Qa8nBN6u.js";const ke=["/portfolio.html","/","/architecture/","/cs-basic/","/en/portfolio.html","/en/","/fe/","/memorabilia/2023.html","/memorabilia/2024.html","/memorabilia/","/programming/","/soft-engineering/","/cs-basic/basic/ComputerStructure.html","/cs-basic/basic/DataRepresentation.html","/cs-basic/basic/","/cs-basic/basic/Reliability_Performance.html","/cs-basic/database/DBMS.html","/cs-basic/database/design.html","/cs-basic/database/ER.html","/cs-basic/database/","/cs-basic/network/ConceptStructure.html","/cs-basic/network/Internet.html","/cs-basic/network/","/cs-basic/network/Safety.html","/cs-basic/network/StandardProtocal.html","/cs-basic/network/TCP.html","/cs-basic/os/","/en/demo/disable.html","/en/demo/encrypt.html","/en/demo/layout.html","/en/demo/markdown.html","/en/demo/page.html","/en/demo/","/en/guide/","/hobbies/Music/01.html","/hobbies/Music/02.html","/hobbies/Music/03.html","/hobbies/Music/MusicTheory.html","/hobbies/Music/","/others/AI/Functions.html","/others/AI/","/others/AI/Shortcuts.html","/others/AI/Tools.html","/others/Maya/","/others/PS/Actions.html","/others/PS/Colors.html","/others/PS/","/others/PS/Shortcuts.html","/programming/algorithm/BackTrack.html","/programming/algorithm/Design.html","/programming/algorithm/Divide%20and%20Conquer.html","/programming/algorithm/Dynamic.html","/programming/algorithm/Greedy.html","/programming/algorithm/Others.html","/programming/algorithm/","/programming/algorithm/Search.html","/programming/algorithm/Sort.html","/programming/algorithm/String.html","/programming/language/BasicConcept.html","/programming/language/compilecore.html","/programming/language/Grammar.html","/programming/language/","/programming/language/Setup.html","/programming/oo/design-pattern-java.html","/programming/oo/design-pattern-javascript.html","/programming/oo/design-pattern.html","/programming/oo/principle.html","/programming/oo/","/programming/oo/UML.html","/programming/structure/Array.html","/programming/structure/Linear.html","/programming/structure/Map.html","/programming/structure/","/programming/structure/Tree.html","/programming/structuredev/DFD.html","/programming/structuredev/","/soft-engineering/be/","/soft-engineering/cicd/oss.html","/soft-engineering/cicd/","/soft-engineering/client/","/soft-engineering/devops/","/soft-engineering/fe/","/soft-engineering/functions/Agile.html","/soft-engineering/functions/OO.html","/soft-engineering/functions/","/soft-engineering/functions/Structure.html","/soft-engineering/project-management/","/soft-engineering/requirements/","/soft-engineering/test/","/soft-engineering/tools/excel.html","/soft-engineering/tools/git.html","/soft-engineering/tools/gitlab.html","/soft-engineering/tools/PackageManager.html","/soft-engineering/tools/vscode.html","/cs-basic/database/relation-database/Math.html","/cs-basic/database/relation-database/","/cs-basic/database/relation-database/SQL.html","/cs-basic/os/computeros/Android.html","/cs-basic/os/computeros/iOS.html","/cs-basic/os/computeros/Linux.html","/cs-basic/os/computeros/MacOS.html","/cs-basic/os/computeros/","/cs-basic/os/computeros/vim.html","/cs-basic/os/computeros/Windows.html","/cs-basic/os/functions/Device.html","/cs-basic/os/functions/File.html","/cs-basic/os/functions/Job.html","/cs-basic/os/functions/Process.html","/cs-basic/os/functions/","/cs-basic/os/functions/Storage.html","/en/guide/bar/baz.html","/en/guide/bar/","/en/guide/foo/ray.html","/en/guide/foo/","/others/Maya/Practice/","/programming/language/LangHandler/","/programming/language/SeniorLang/python.html","/programming/language/SeniorLang/","/programming/language/SeniorLang/scrapy.html","/soft-engineering/be/java/%20README.html","/soft-engineering/be/mysql/Q_A.html","/soft-engineering/be/mysql/","/soft-engineering/be/nestjs/","/soft-engineering/be/node/nestjs.html","/soft-engineering/be/node/","/soft-engineering/cicd/docker/","/soft-engineering/cicd/nginx/","/soft-engineering/client/flutter/basic.html","/soft-engineering/client/flutter/code.html","/soft-engineering/client/flutter/dart.html","/soft-engineering/client/flutter/","/soft-engineering/client/harmonyos/ArkTS.html","/soft-engineering/client/harmonyos/ArkUI.html","/soft-engineering/client/harmonyos/DevEcoStudio.html","/soft-engineering/client/harmonyos/","/soft-engineering/fe/fe-basic/divcss%E5%91%BD%E5%90%8D.html","/soft-engineering/fe/fe-basic/","/soft-engineering/fe/fe-engineering/monorepo.html","/soft-engineering/fe/fe-engineering/","/soft-engineering/fe/fe-frames/","/soft-engineering/fe/library/","/soft-engineering/fe/performance/","/soft-engineering/fe/specification/","/soft-engineering/fe/fe-basic/browser/api.html","/soft-engineering/fe/fe-basic/browser/event-loop.html","/soft-engineering/fe/fe-basic/browser/js-in-browser.html","/soft-engineering/fe/fe-basic/browser/Q_A.html","/soft-engineering/fe/fe-basic/browser/","/soft-engineering/fe/fe-basic/browser/render.html","/soft-engineering/fe/fe-basic/browser/url-page.html","/soft-engineering/fe/fe-basic/js/GoodPractice.html","/soft-engineering/fe/fe-basic/js/Questions.html","/soft-engineering/fe/fe-basic/js/","/soft-engineering/fe/fe-basic/js/TypeCasting.html","/soft-engineering/fe/fe-basic/structure/","/soft-engineering/fe/fe-frames/react/","/soft-engineering/fe/fe-frames/uniapp/","/soft-engineering/fe/fe-frames/vue/","/soft-engineering/fe/fe-basic/js/basic/BaiscConcept.html","/soft-engineering/fe/fe-basic/js/basic/DataStructure.html","/soft-engineering/fe/fe-basic/js/basic/DataType.html","/soft-engineering/fe/fe-basic/js/basic/Grammar.html","/soft-engineering/fe/fe-basic/js/basic/Lexical.html","/soft-engineering/fe/fe-basic/js/core/async.html","/soft-engineering/fe/fe-basic/js/core/es6.html","/soft-engineering/fe/fe-basic/js/core/es7.html","/soft-engineering/fe/fe-basic/js/core/es8.html","/soft-engineering/fe/fe-basic/js/core/function.html","/soft-engineering/fe/fe-basic/js/core/prototype.html","/soft-engineering/fe/fe-basic/js/core/scope.html","/soft-engineering/fe/fe-basic/js/frames/react.html","/soft-engineering/fe/fe-basic/js/frames/vue2.x.html","/soft-engineering/fe/fe-basic/js/frames/vue3.x.html","/soft-engineering/fe/fe-basic/js/senior/build-tools.html","/soft-engineering/fe/fe-basic/js/senior/design-pattern.html","/soft-engineering/fe/fe-basic/js/senior/design-principle.html","/soft-engineering/fe/fe-basic/js/senior/module.html","/soft-engineering/fe/fe-basic/js/senior/skills.html","/soft-engineering/fe/fe-basic/js/TS/TypeScript.html","/soft-engineering/fe/fe-basic/structure/css/Basic.html","/soft-engineering/fe/fe-basic/structure/css/Questions.html","/soft-engineering/fe/fe-basic/structure/css/","/soft-engineering/fe/fe-basic/structure/css/%E7%B1%BBWord%E5%A4%8D%E6%9D%82%E8%A1%A8%E6%A0%BC.html","/soft-engineering/fe/fe-basic/structure/html/Basic.html","/soft-engineering/fe/fe-basic/structure/html/GoodPractice.html","/soft-engineering/fe/fe-basic/structure/html/H5Properties.html","/soft-engineering/fe/fe-basic/structure/html/","/soft-engineering/fe/fe-basic/structure/layout/flex.html","/soft-engineering/fe/fe-basic/structure/layout/grid.html","/soft-engineering/fe/fe-basic/structure/layout/","/soft-engineering/fe/fe-frames/vue/v2x/","/soft-engineering/fe/fe-frames/vue/v2x/style.html","/soft-engineering/fe/fe-frames/vue/v3x/Q_A.html","/soft-engineering/fe/fe-frames/vue/v3x/","/soft-engineering/fe/fe-basic/structure/css/Preprocessor/Less.html","/soft-engineering/fe/fe-basic/structure/css/Preprocessor/","/soft-engineering/fe/fe-basic/structure/css/Preprocessor/Sass.html","/soft-engineering/fe/fe-basic/structure/css/Preprocessor/Stylus.html","/soft-engineering/fe/fe-basic/structure/css/Properties/display.html","/404.html","/hobbies/","/others/","/soft-engineering/tools/","/soft-engineering/be/java/","/soft-engineering/fe/fe-basic/js/basic/","/soft-engineering/fe/fe-basic/js/core/","/soft-engineering/fe/fe-basic/js/frames/","/soft-engineering/fe/fe-basic/js/senior/","/soft-engineering/fe/fe-basic/js/TS/","/soft-engineering/fe/fe-basic/structure/css/Properties/"],we="SEARCH_PRO_QUERY_HISTORY",d=U(we,[]),Pe=()=>{const{queryHistoryCount:i}=H,n=i>0;return{enabled:n,queryHistory:d,addQueryHistory:r=>{n&&(d.value=Array.from(new Set([r,...d.value.slice(0,i-1)])))},removeQueryHistory:r=>{d.value=[...d.value.slice(0,r),...d.value.slice(r+1)]}}},q=i=>ke[i.id]+("anchor"in i?`#${i.anchor}`:""),He="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:_}=H,v=U(He,[]),Re=()=>{const i=_>0;return{enabled:i,resultHistory:v,addResultHistory:n=>{if(i){const r={link:q(n),display:n.display};"header"in n&&(r.header=n.header),v.value=[r,...v.value.slice(0,_-1)]}},removeResultHistory:n=>{v.value=[...v.value.slice(0,n),...v.value.slice(n+1)]}}},xe=i=>{const n=me(),r=$(),R=fe(),o=E(0),j=P(()=>o.value>0),h=he([]);return pe(()=>{const{search:p,terminate:x}=be(),y=Se(g=>{const S=g.join(" "),{searchFilter:A=f=>f,splitWord:D,suggestionsFilter:T,...b}=n.value;S?(o.value+=1,p(g.join(" "),r.value,b).then(f=>A(f,S,r.value,R.value)).then(f=>{o.value-=1,h.value=f}).catch(f=>{console.warn(f),o.value-=1,o.value||(h.value=[])})):h.value=[]},H.searchDelay-H.suggestDelay);G([i,r],([g])=>y(g),{immediate:!0}),de(()=>{x()})}),{isSearching:j,results:h}};var De=se({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(i,{emit:n}){const r=te(),R=$(),o=ie(ne),{enabled:j,addQueryHistory:h,queryHistory:p,removeQueryHistory:x}=Pe(),{enabled:y,resultHistory:g,addResultHistory:S,removeResultHistory:A}=Re(),D=j||y,T=re(i,"queries"),{results:b,isSearching:f}=xe(T),a=ae({isQuery:!0,index:0}),u=E(0),m=E(0),M=P(()=>D&&(p.value.length>0||g.value.length>0)),Q=P(()=>b.value.length>0),C=P(()=>b.value[u.value]||null),Y=()=>{const{isQuery:e,index:s}=a;s===0?(a.isQuery=!e,a.index=e?g.value.length-1:p.value.length-1):a.index=s-1},W=()=>{const{isQuery:e,index:s}=a;s===(e?p.value.length-1:g.value.length-1)?(a.isQuery=!e,a.index=0):a.index=s+1},V=()=>{u.value=u.value>0?u.value-1:b.value.length-1,m.value=C.value.contents.length-1},z=()=>{u.value=u.value<b.value.length-1?u.value+1:0,m.value=0},J=()=>{m.value<C.value.contents.length-1?m.value+=1:z()},X=()=>{m.value>0?m.value-=1:V()},L=e=>e.map(s=>je(s)?s:t(s[0],s[1])),Z=e=>{if(e.type==="customField"){const s=ve[e.index]||"$content",[l,w=""]=ye(s)?s[R.value].split("$content"):s.split("$content");return e.display.map(c=>t("div",L([l,...c,w])))}return e.display.map(s=>t("div",L(s)))},k=()=>{u.value=0,m.value=0,n("updateQuery",""),n("close")},K=()=>j?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},o.value.queryHistory),p.value.map((e,s)=>t("div",{class:["search-pro-result-item",{active:a.isQuery&&a.index===s}],onClick:()=>{n("updateQuery",e)}},[t(I,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},e),t("button",{class:"search-pro-remove-icon",innerHTML:F,onClick:l=>{l.preventDefault(),l.stopPropagation(),x(s)}})]))])):null,N=()=>y?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},o.value.resultHistory),g.value.map((e,s)=>t(O,{to:e.link,class:["search-pro-result-item",{active:!a.isQuery&&a.index===s}],onClick:()=>{k()}},()=>[t(I,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[e.header?t("div",{class:"content-header"},e.header):null,t("div",e.display.map(l=>L(l)).flat())]),t("button",{class:"search-pro-remove-icon",innerHTML:F,onClick:l=>{l.preventDefault(),l.stopPropagation(),A(s)}})]))])):null;return oe("keydown",e=>{if(i.isFocusing){if(Q.value){if(e.key==="ArrowUp")X();else if(e.key==="ArrowDown")J();else if(e.key==="Enter"){const s=C.value.contents[m.value];h(i.queries.join(" ")),S(s),r.push(q(s)),k()}}else if(y){if(e.key==="ArrowUp")Y();else if(e.key==="ArrowDown")W();else if(e.key==="Enter"){const{index:s}=a;a.isQuery?(n("updateQuery",p.value[s]),e.preventDefault()):(r.push(g.value[s].link),k())}}}}),G([u,m],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>t("div",{class:["search-pro-result-wrapper",{empty:i.queries.length?!Q.value:!M.value}],id:"search-pro-results"},i.queries.length?f.value?t(le,{hint:o.value.searching}):Q.value?t("ul",{class:"search-pro-result-list"},b.value.map(({title:e,contents:s},l)=>{const w=u.value===l;return t("li",{class:["search-pro-result-list-item",{active:w}]},[t("div",{class:"search-pro-result-title"},e||o.value.defaultTitle),s.map((c,ee)=>{const B=w&&m.value===ee;return t(O,{to:q(c),class:["search-pro-result-item",{active:B,"aria-selected":B}],onClick:()=>{h(i.queries.join(" ")),S(c),k()}},()=>[c.type==="text"?null:t(c.type==="title"?ce:c.type==="heading"?ge:ue,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[c.type==="text"&&c.header?t("div",{class:"content-header"},c.header):null,t("div",Z(c))])])})])})):o.value.emptyResult:D?M.value?[K(),N()]:o.value.emptyHistory:o.value.emptyResult)}});export{De as default};
