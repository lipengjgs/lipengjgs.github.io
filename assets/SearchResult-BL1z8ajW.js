import{P as _,i as se,Q as ie,R as $,S as te,T as ne,U as re,y as ae,k as E,s as k,V as oe,u as Y,j as i,W as le,X as I,Y as ce,Z as ge,$ as ue,a0 as fe,a1 as me,a2 as he,B as pe,a3 as ve,a4 as de,a5 as x,E as be,a6 as ye,m as je,a7 as M,a8 as O,a9 as we}from"./app-4_wKZusS.js";const He=["/portfolio.html","/","/cs-basic/","/en/portfolio.html","/en/","/programming/","/soft-engineering/","/cs-basic/basic/CPU.html","/cs-basic/basic/data.html","/cs-basic/basic/hardware.html","/cs-basic/database/ER.html","/cs-basic/network/","/cs-basic/network/TCP.html","/cs-basic/os/command.html","/cs-basic/os/Linux.html","/cs-basic/os/MacOS.html","/cs-basic/os/","/cs-basic/os/vim.html","/cs-basic/os/Windows.html","/hobbies/Music/","/en/demo/disable.html","/en/demo/layout.html","/en/demo/markdown.html","/en/demo/page.html","/en/demo/","/en/guide/","/others/AI/Functions.html","/others/AI/Practice.html","/others/AI/","/others/AI/Tools.html","/others/Maya/","/others/PS/Actions.html","/others/PS/Practice.html","/others/PS/","/others/PS/Shortcuts.html","/programming/algorithm/Divide%20and%20Conquer.html","/programming/algorithm/","/programming/algorithm/Search.html","/programming/algorithm/Sort.html","/programming/algorithm/String.html","/programming/language/compilecore.html","/programming/language/","/programming/oo/design-pattern.html","/programming/oo/principle.html","/programming/oo/","/programming/oo/UML.html","/programming/structure/","/programming/structuredev/DFD.html","/soft-engineering/be/","/soft-engineering/cicd/","/soft-engineering/client/","/soft-engineering/devops/","/soft-engineering/fe/","/soft-engineering/project-management/","/soft-engineering/requirements/","/soft-engineering/test/","/soft-engineering/tools/git.html","/soft-engineering/tools/PackageManager.html","/en/guide/bar/baz.html","/en/guide/bar/","/en/guide/foo/ray.html","/en/guide/foo/","/others/Maya/Practice/","/programming/language/lang-extend/","/programming/language/python/python.html","/soft-engineering/be/docker/","/soft-engineering/be/mysql/Q_A.html","/soft-engineering/be/mysql/","/soft-engineering/be/nginx/","/soft-engineering/be/node/nestjs.html","/soft-engineering/be/node/","/soft-engineering/fe/fe-basic/","/soft-engineering/fe/fe-engineering/","/soft-engineering/fe/fe-frames/","/soft-engineering/fe/ide/vscode.html","/soft-engineering/fe/newer-tech/HarmonyOS.html","/soft-engineering/fe/performance/","/programming/language/lang-extend/TS/","/soft-engineering/fe/fe-basic/browser/event-loop.html","/soft-engineering/fe/fe-basic/browser/Q_A.html","/soft-engineering/fe/fe-basic/browser/","/soft-engineering/fe/fe-basic/browser/render.html","/soft-engineering/fe/fe-basic/browser/url-page.html","/soft-engineering/fe/fe-basic/css/Questions.html","/soft-engineering/fe/fe-basic/css/","/soft-engineering/fe/fe-basic/css/%E7%B1%BBWord%E5%A4%8D%E6%9D%82%E8%A1%A8%E6%A0%BC.html","/soft-engineering/fe/fe-basic/html/Basic.html","/soft-engineering/fe/fe-basic/html/GoodPractice.html","/soft-engineering/fe/fe-basic/html/H5Properties.html","/soft-engineering/fe/fe-basic/html/Layout.html","/soft-engineering/fe/fe-basic/html/","/soft-engineering/fe/fe-basic/js/GoodPractice.html","/soft-engineering/fe/fe-basic/js/Questions.html","/soft-engineering/fe/fe-basic/js/","/soft-engineering/fe/fe-basic/js/TypeCasting.html","/soft-engineering/fe/fe-frames/react/","/soft-engineering/fe/fe-frames/uniapp/","/soft-engineering/fe/fe-frames/vue/","/soft-engineering/fe/fe-basic/css/Properties/display.html","/soft-engineering/fe/fe-basic/js/basic/BaiscConcept.html","/soft-engineering/fe/fe-basic/js/basic/DataStructure.html","/soft-engineering/fe/fe-basic/js/basic/DataType.html","/soft-engineering/fe/fe-basic/js/basic/Grammar.html","/soft-engineering/fe/fe-basic/js/basic/Lexical.html","/soft-engineering/fe/fe-basic/js/frames/react.html","/soft-engineering/fe/fe-basic/js/frames/vue2.x.html","/soft-engineering/fe/fe-basic/js/frames/vue3.x.html","/soft-engineering/fe/fe-basic/js/core/async.html","/soft-engineering/fe/fe-basic/js/core/es6.html","/soft-engineering/fe/fe-basic/js/core/es7.html","/soft-engineering/fe/fe-basic/js/core/es8.html","/soft-engineering/fe/fe-basic/js/core/function.html","/soft-engineering/fe/fe-basic/js/core/prototype.html","/soft-engineering/fe/fe-basic/js/core/scope.html","/soft-engineering/fe/fe-basic/js/senior/build-tools.html","/soft-engineering/fe/fe-basic/js/senior/design-pattern.html","/soft-engineering/fe/fe-basic/js/senior/design-principle.html","/soft-engineering/fe/fe-basic/js/senior/module.html","/soft-engineering/fe/fe-basic/js/senior/skills.html","/soft-engineering/fe/fe-frames/vue/v2x/style.html","/soft-engineering/fe/fe-frames/vue/v3x/","/404.html","/cs-basic/basic/","/cs-basic/database/","/hobbies/","/others/","/programming/structuredev/","/soft-engineering/tools/","/programming/language/python/","/soft-engineering/fe/ide/","/soft-engineering/fe/newer-tech/","/soft-engineering/fe/fe-basic/css/Properties/","/soft-engineering/fe/fe-basic/js/basic/","/soft-engineering/fe/fe-basic/js/frames/","/soft-engineering/fe/fe-basic/js/core/","/soft-engineering/fe/fe-basic/js/senior/","/soft-engineering/fe/fe-frames/vue/v2x/"],Se="SEARCH_PRO_QUERY_HISTORY",d=_(Se,[]),ke=()=>{const{queryHistoryCount:t}=x,n=t>0;return{enabled:n,queryHistory:d,addQueryHistory:r=>{n&&(d.value=Array.from(new Set([r,...d.value.slice(0,t-1)])))},removeQueryHistory:r=>{d.value=[...d.value.slice(0,r),...d.value.slice(r+1)]}}},L=t=>He[t.id]+("anchor"in t?`#${t.anchor}`:""),xe="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:U}=x,b=_(xe,[]),Pe=()=>{const t=U>0;return{enabled:t,resultHistory:b,addResultHistory:n=>{if(t){const r={link:L(n),display:n.display};"header"in n&&(r.header=n.header),b.value=[r,...b.value.slice(0,U-1)]}},removeResultHistory:n=>{b.value=[...b.value.slice(0,n),...b.value.slice(n+1)]}}},Re=t=>{const n=fe(),r=$(),P=me(),o=E(0),w=k(()=>o.value>0),h=he([]);return pe(()=>{const{search:p,terminate:R}=ve(),y=de(g=>{const j=g.join(" "),{searchFilter:Q=m=>m,splitWord:q,suggestionsFilter:T,...v}=n.value;j?(o.value+=1,p(g.join(" "),r.value,v).then(m=>Q(m,j,r.value,P.value)).then(m=>{o.value-=1,h.value=m}).catch(m=>{console.warn(m),o.value-=1,o.value||(h.value=[])})):h.value=[]},x.searchDelay-x.suggestDelay);Y([t,r],([g])=>y(g),{immediate:!0}),be(()=>{R()})}),{isSearching:w,results:h}};var qe=se({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(t,{emit:n}){const r=ie(),P=$(),o=te(ne),{enabled:w,addQueryHistory:h,queryHistory:p,removeQueryHistory:R}=ke(),{enabled:y,resultHistory:g,addResultHistory:j,removeResultHistory:Q}=Pe(),q=w||y,T=re(t,"queries"),{results:v,isSearching:m}=Re(T),a=ae({isQuery:!0,index:0}),u=E(0),f=E(0),B=k(()=>q&&(p.value.length>0||g.value.length>0)),A=k(()=>v.value.length>0),C=k(()=>v.value[u.value]||null),G=()=>{const{isQuery:e,index:s}=a;s===0?(a.isQuery=!e,a.index=e?g.value.length-1:p.value.length-1):a.index=s-1},W=()=>{const{isQuery:e,index:s}=a;s===(e?p.value.length-1:g.value.length-1)?(a.isQuery=!e,a.index=0):a.index=s+1},V=()=>{u.value=u.value>0?u.value-1:v.value.length-1,f.value=C.value.contents.length-1},z=()=>{u.value=u.value<v.value.length-1?u.value+1:0,f.value=0},X=()=>{f.value<C.value.contents.length-1?f.value+=1:z()},Z=()=>{f.value>0?f.value-=1:V()},D=e=>e.map(s=>we(s)?s:i(s[0],s[1])),J=e=>{if(e.type==="customField"){const s=ye[e.index]||"$content",[l,S=""]=je(s)?s[P.value].split("$content"):s.split("$content");return e.display.map(c=>i("div",D([l,...c,S])))}return e.display.map(s=>i("div",D(s)))},H=()=>{u.value=0,f.value=0,n("updateQuery",""),n("close")},K=()=>w?i("ul",{class:"search-pro-result-list"},i("li",{class:"search-pro-result-list-item"},[i("div",{class:"search-pro-result-title"},o.value.queryHistory),p.value.map((e,s)=>i("div",{class:["search-pro-result-item",{active:a.isQuery&&a.index===s}],onClick:()=>{n("updateQuery",e)}},[i(M,{class:"search-pro-result-type"}),i("div",{class:"search-pro-result-content"},e),i("button",{class:"search-pro-remove-icon",innerHTML:O,onClick:l=>{l.preventDefault(),l.stopPropagation(),R(s)}})]))])):null,N=()=>y?i("ul",{class:"search-pro-result-list"},i("li",{class:"search-pro-result-list-item"},[i("div",{class:"search-pro-result-title"},o.value.resultHistory),g.value.map((e,s)=>i(I,{to:e.link,class:["search-pro-result-item",{active:!a.isQuery&&a.index===s}],onClick:()=>{H()}},()=>[i(M,{class:"search-pro-result-type"}),i("div",{class:"search-pro-result-content"},[e.header?i("div",{class:"content-header"},e.header):null,i("div",e.display.map(l=>D(l)).flat())]),i("button",{class:"search-pro-remove-icon",innerHTML:O,onClick:l=>{l.preventDefault(),l.stopPropagation(),Q(s)}})]))])):null;return oe("keydown",e=>{if(t.isFocusing){if(A.value){if(e.key==="ArrowUp")Z();else if(e.key==="ArrowDown")X();else if(e.key==="Enter"){const s=C.value.contents[f.value];h(t.queries.join(" ")),j(s),r.push(L(s)),H()}}else if(y){if(e.key==="ArrowUp")G();else if(e.key==="ArrowDown")W();else if(e.key==="Enter"){const{index:s}=a;a.isQuery?(n("updateQuery",p.value[s]),e.preventDefault()):(r.push(g.value[s].link),H())}}}}),Y([u,f],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>i("div",{class:["search-pro-result-wrapper",{empty:t.queries.length?!A.value:!B.value}],id:"search-pro-results"},t.queries.length?m.value?i(le,{hint:o.value.searching}):A.value?i("ul",{class:"search-pro-result-list"},v.value.map(({title:e,contents:s},l)=>{const S=u.value===l;return i("li",{class:["search-pro-result-list-item",{active:S}]},[i("div",{class:"search-pro-result-title"},e||o.value.defaultTitle),s.map((c,ee)=>{const F=S&&f.value===ee;return i(I,{to:L(c),class:["search-pro-result-item",{active:F,"aria-selected":F}],onClick:()=>{h(t.queries.join(" ")),j(c),H()}},()=>[c.type==="text"?null:i(c.type==="title"?ce:c.type==="heading"?ge:ue,{class:"search-pro-result-type"}),i("div",{class:"search-pro-result-content"},[c.type==="text"&&c.header?i("div",{class:"content-header"},c.header):null,i("div",J(c))])])})])})):o.value.emptyResult:q?B.value?[K(),N()]:o.value.emptyHistory:o.value.emptyResult)}});export{qe as default};
