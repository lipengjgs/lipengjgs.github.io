import{O as $,i as se,P as te,Q as M,R as ie,S as ne,T as re,x as ae,k as L,q as x,U as oe,s as Y,j as t,V as le,W as I,X as ce,Y as ge,Z as fe,$ as ue,a0 as me,a1 as he,A as pe,a2 as ve,a3 as de,a4 as k,D as be,a5 as ye,m as je,a6 as B,a7 as U,a8 as we}from"./app-CaTxLpd8.js";const He=["/portfolio.html","/","/cs-basic/","/en/portfolio.html","/en/","/programming/","/soft-engineering/","/cs-basic/basic/CPU.html","/cs-basic/basic/data.html","/cs-basic/basic/hardware.html","/cs-basic/database/ER.html","/cs-basic/network/","/cs-basic/network/TCP.html","/cs-basic/os/command.html","/cs-basic/os/Linux.html","/cs-basic/os/MacOS.html","/cs-basic/os/","/cs-basic/os/vim.html","/cs-basic/os/Windows.html","/en/demo/disable.html","/en/demo/layout.html","/en/demo/markdown.html","/en/demo/page.html","/en/demo/","/en/guide/","/others/AI/Functions.html","/others/AI/Practice.html","/others/AI/","/others/AI/Tools.html","/others/Maya/","/others/PS/Actions.html","/others/PS/Practice.html","/others/PS/","/others/PS/Shortcuts.html","/programming/algorithm/Divide%20and%20Conquer.html","/programming/algorithm/","/programming/algorithm/Search.html","/programming/algorithm/Sort.html","/programming/algorithm/String.html","/programming/language/compilecore.html","/programming/language/","/programming/structure/","/soft-engineering/be/","/soft-engineering/client/","/soft-engineering/devops/","/soft-engineering/fe/","/soft-engineering/oo/design-pattern.html","/soft-engineering/oo/principle.html","/soft-engineering/oo/","/soft-engineering/oo/UML.html","/soft-engineering/project-management/","/soft-engineering/structuredev/DFD.html","/soft-engineering/test/","/soft-engineering/tools/git.html","/soft-engineering/tools/npm.html","/en/guide/bar/baz.html","/en/guide/bar/","/en/guide/foo/ray.html","/en/guide/foo/","/others/Maya/Practice/","/programming/language/python/python.html","/programming/language/lang-extend/","/soft-engineering/be/docker/","/soft-engineering/be/mysql/Q_A.html","/soft-engineering/be/mysql/","/soft-engineering/be/nginx/","/soft-engineering/be/node/nestjs.html","/soft-engineering/be/node/","/soft-engineering/fe/fe-basic/","/soft-engineering/fe/fe-frames/","/soft-engineering/fe/fe-engineering/","/soft-engineering/fe/ide/vscode.html","/soft-engineering/fe/newer-tech/HarmonyOS.html","/soft-engineering/fe/performance/","/programming/language/lang-extend/TS/","/soft-engineering/fe/fe-basic/browser/event-loop.html","/soft-engineering/fe/fe-basic/browser/Q_A.html","/soft-engineering/fe/fe-basic/browser/","/soft-engineering/fe/fe-basic/browser/render.html","/soft-engineering/fe/fe-basic/browser/url-page.html","/soft-engineering/fe/fe-basic/css/Questions.html","/soft-engineering/fe/fe-basic/css/","/soft-engineering/fe/fe-basic/css/%E7%B1%BBWord%E5%A4%8D%E6%9D%82%E8%A1%A8%E6%A0%BC.html","/soft-engineering/fe/fe-basic/html/Basic.html","/soft-engineering/fe/fe-basic/html/GoodPractice.html","/soft-engineering/fe/fe-basic/html/H5Properties.html","/soft-engineering/fe/fe-basic/html/Layout.html","/soft-engineering/fe/fe-basic/html/","/soft-engineering/fe/fe-basic/js/GoodPractice.html","/soft-engineering/fe/fe-basic/js/Questions.html","/soft-engineering/fe/fe-basic/js/","/soft-engineering/fe/fe-basic/js/TypeCasting.html","/soft-engineering/fe/fe-frames/react/","/soft-engineering/fe/fe-frames/uniapp/","/soft-engineering/fe/fe-frames/vue/","/soft-engineering/fe/fe-basic/css/Properties/display.html","/soft-engineering/fe/fe-basic/js/basic/BaiscConcept.html","/soft-engineering/fe/fe-basic/js/basic/DataStructure.html","/soft-engineering/fe/fe-basic/js/basic/DataType.html","/soft-engineering/fe/fe-basic/js/basic/Grammar.html","/soft-engineering/fe/fe-basic/js/basic/Lexical.html","/soft-engineering/fe/fe-basic/js/core/async.html","/soft-engineering/fe/fe-basic/js/core/es6.html","/soft-engineering/fe/fe-basic/js/core/es7.html","/soft-engineering/fe/fe-basic/js/core/es8.html","/soft-engineering/fe/fe-basic/js/core/function.html","/soft-engineering/fe/fe-basic/js/core/prototype.html","/soft-engineering/fe/fe-basic/js/core/scope.html","/soft-engineering/fe/fe-basic/js/frames/react.html","/soft-engineering/fe/fe-basic/js/frames/vue2.x.html","/soft-engineering/fe/fe-basic/js/frames/vue3.x.html","/soft-engineering/fe/fe-basic/js/senior/build-tools.html","/soft-engineering/fe/fe-basic/js/senior/design-pattern.html","/soft-engineering/fe/fe-basic/js/senior/design-principle.html","/soft-engineering/fe/fe-basic/js/senior/module.html","/soft-engineering/fe/fe-basic/js/senior/skills.html","/soft-engineering/fe/fe-frames/vue/v2x/style.html","/soft-engineering/fe/fe-frames/vue/v3x/","/404.html","/cs-basic/basic/","/cs-basic/database/","/others/","/soft-engineering/structuredev/","/soft-engineering/tools/","/programming/language/python/","/soft-engineering/fe/ide/","/soft-engineering/fe/newer-tech/","/soft-engineering/fe/fe-basic/css/Properties/","/soft-engineering/fe/fe-basic/js/basic/","/soft-engineering/fe/fe-basic/js/core/","/soft-engineering/fe/fe-basic/js/frames/","/soft-engineering/fe/fe-basic/js/senior/","/soft-engineering/fe/fe-frames/vue/v2x/"],Se="SEARCH_PRO_QUERY_HISTORY",d=$(Se,[]),xe=()=>{const{queryHistoryCount:i}=k,n=i>0;return{enabled:n,queryHistory:d,addQueryHistory:r=>{n&&(d.value=Array.from(new Set([r,...d.value.slice(0,i-1)])))},removeQueryHistory:r=>{d.value=[...d.value.slice(0,r),...d.value.slice(r+1)]}}},E=i=>He[i.id]+("anchor"in i?`#${i.anchor}`:""),ke="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:_}=k,b=$(ke,[]),Re=()=>{const i=_>0;return{enabled:i,resultHistory:b,addResultHistory:n=>{if(i){const r={link:E(n),display:n.display};"header"in n&&(r.header=n.header),b.value=[r,...b.value.slice(0,_-1)]}},removeResultHistory:n=>{b.value=[...b.value.slice(0,n),...b.value.slice(n+1)]}}},Pe=i=>{const n=ue(),r=M(),R=me(),o=L(0),w=x(()=>o.value>0),h=he([]);return pe(()=>{const{search:p,terminate:P}=ve(),y=de(g=>{const j=g.join(" "),{searchFilter:Q=m=>m,splitWord:A,suggestionsFilter:T,...v}=n.value;j?(o.value+=1,p(g.join(" "),r.value,v).then(m=>Q(m,j,r.value,R.value)).then(m=>{o.value-=1,h.value=m}).catch(m=>{console.warn(m),o.value-=1,o.value||(h.value=[])})):h.value=[]},k.searchDelay-k.suggestDelay);Y([i,r],([g])=>y(g),{immediate:!0}),be(()=>{P()})}),{isSearching:w,results:h}};var Ae=se({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(i,{emit:n}){const r=te(),R=M(),o=ie(ne),{enabled:w,addQueryHistory:h,queryHistory:p,removeQueryHistory:P}=xe(),{enabled:y,resultHistory:g,addResultHistory:j,removeResultHistory:Q}=Re(),A=w||y,T=re(i,"queries"),{results:v,isSearching:m}=Pe(T),a=ae({isQuery:!0,index:0}),f=L(0),u=L(0),O=x(()=>A&&(p.value.length>0||g.value.length>0)),q=x(()=>v.value.length>0),C=x(()=>v.value[f.value]||null),G=()=>{const{isQuery:e,index:s}=a;s===0?(a.isQuery=!e,a.index=e?g.value.length-1:p.value.length-1):a.index=s-1},W=()=>{const{isQuery:e,index:s}=a;s===(e?p.value.length-1:g.value.length-1)?(a.isQuery=!e,a.index=0):a.index=s+1},V=()=>{f.value=f.value>0?f.value-1:v.value.length-1,u.value=C.value.contents.length-1},z=()=>{f.value=f.value<v.value.length-1?f.value+1:0,u.value=0},X=()=>{u.value<C.value.contents.length-1?u.value+=1:z()},Z=()=>{u.value>0?u.value-=1:V()},D=e=>e.map(s=>we(s)?s:t(s[0],s[1])),J=e=>{if(e.type==="customField"){const s=ye[e.index]||"$content",[l,S=""]=je(s)?s[R.value].split("$content"):s.split("$content");return e.display.map(c=>t("div",D([l,...c,S])))}return e.display.map(s=>t("div",D(s)))},H=()=>{f.value=0,u.value=0,n("updateQuery",""),n("close")},K=()=>w?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},o.value.queryHistory),p.value.map((e,s)=>t("div",{class:["search-pro-result-item",{active:a.isQuery&&a.index===s}],onClick:()=>{n("updateQuery",e)}},[t(B,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},e),t("button",{class:"search-pro-remove-icon",innerHTML:U,onClick:l=>{l.preventDefault(),l.stopPropagation(),P(s)}})]))])):null,N=()=>y?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},o.value.resultHistory),g.value.map((e,s)=>t(I,{to:e.link,class:["search-pro-result-item",{active:!a.isQuery&&a.index===s}],onClick:()=>{H()}},()=>[t(B,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[e.header?t("div",{class:"content-header"},e.header):null,t("div",e.display.map(l=>D(l)).flat())]),t("button",{class:"search-pro-remove-icon",innerHTML:U,onClick:l=>{l.preventDefault(),l.stopPropagation(),Q(s)}})]))])):null;return oe("keydown",e=>{if(i.isFocusing){if(q.value){if(e.key==="ArrowUp")Z();else if(e.key==="ArrowDown")X();else if(e.key==="Enter"){const s=C.value.contents[u.value];h(i.queries.join(" ")),j(s),r.push(E(s)),H()}}else if(y){if(e.key==="ArrowUp")G();else if(e.key==="ArrowDown")W();else if(e.key==="Enter"){const{index:s}=a;a.isQuery?(n("updateQuery",p.value[s]),e.preventDefault()):(r.push(g.value[s].link),H())}}}}),Y([f,u],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>t("div",{class:["search-pro-result-wrapper",{empty:i.queries.length?!q.value:!O.value}],id:"search-pro-results"},i.queries.length?m.value?t(le,{hint:o.value.searching}):q.value?t("ul",{class:"search-pro-result-list"},v.value.map(({title:e,contents:s},l)=>{const S=f.value===l;return t("li",{class:["search-pro-result-list-item",{active:S}]},[t("div",{class:"search-pro-result-title"},e||o.value.defaultTitle),s.map((c,ee)=>{const F=S&&u.value===ee;return t(I,{to:E(c),class:["search-pro-result-item",{active:F,"aria-selected":F}],onClick:()=>{h(i.queries.join(" ")),j(c),H()}},()=>[c.type==="text"?null:t(c.type==="title"?ce:c.type==="heading"?ge:fe,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[c.type==="text"&&c.header?t("div",{class:"content-header"},c.header):null,t("div",J(c))])])})])})):o.value.emptyResult:A?O.value?[K(),N()]:o.value.emptyHistory:o.value.emptyResult)}});export{Ae as default};
